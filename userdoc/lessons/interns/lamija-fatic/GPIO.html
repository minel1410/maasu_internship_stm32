<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>4.1.4.3. GPIO for STM32F411 MCU &mdash; Maasu Internship 4 1 documentation</title>
      <link rel="stylesheet" type="text/css" href="../../../../_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="../../../../_static/css/theme.css?v=19f00094" />
      <link rel="stylesheet" type="text/css" href="../../../../_static/sphinx-data-viewer/jsonview.bundle.css?v=f6ef2277" />
      <link rel="stylesheet" type="text/css" href="../../../../_static/sphinx-needs/libs/html/datatables.min.css?v=4b4fd840" />
      <link rel="stylesheet" type="text/css" href="../../../../_static/sphinx-needs/common.css?v=bd9ab754" />
      <link rel="stylesheet" type="text/css" href="../../../../_static/sphinx-needs/layouts.css?v=448c382f" />
      <link rel="stylesheet" type="text/css" href="../../../../_static/sphinx-needs/styles.css?v=6c8eb985" />
      <link rel="stylesheet" type="text/css" href="../../../../_static/sphinx-needs/modern.css?v=ffa536d2" />

  
  <!--[if lt IE 9]>
    <script src="../../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../../../../_static/jquery.js?v=5d32c60e"></script>
        <script src="../../../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="../../../../_static/documentation_options.js?v=29a6c3e3"></script>
        <script src="../../../../_static/doctools.js?v=888ff710"></script>
        <script src="../../../../_static/sphinx_highlight.js?v=dc90522c"></script>
        <script src="../../../../_static/sphinx-data-viewer/jsonview.bundle.js?v=18cd53c5"></script>
        <script src="../../../../_static/sphinx-data-viewer/jsonview_loader.js?v=f7ff7e7d"></script>
        <script src="../../../../_static/sphinx-needs/libs/html/datatables.min.js?v=8a4aee21"></script>
        <script src="../../../../_static/sphinx-needs/libs/html/datatables_loader.js?v=a2cae175"></script>
        <script src="../../../../_static/sphinx-needs/libs/html/sphinx_needs_collapse.js?v=f783d6a5"></script>
    <script src="../../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../search.html" />
    <link rel="next" title="4.1.4.4. STM32 Clock Initialization" href="Clock.html" />
    <link rel="prev" title="4.1.4.2. SMT32F411 Overview" href="STM32F411MCU.html" />
<link href="../../../../_static/style.css" rel="stylesheet" type="text/css">

</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../../../index.html" class="icon icon-home">
            Maasu Internship 4
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../introduction/introduction.html">1. Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../fundamentals/fundamentals.html">2. Fundamentals</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../environment_setup/environment_setup.html">3. Development Environment Setup</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../lessons.html">4. Lessons</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="../lessons.html">4.1. Lessons written by each intern</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../adna-njuhovic/lessons.html">4.1.1. Lessons by Adna Njuhović</a></li>
<li class="toctree-l3"><a class="reference internal" href="../demir-hasicic/lessons.html">4.1.2. Lessons by Demir Hasičić</a></li>
<li class="toctree-l3"><a class="reference internal" href="../emina-mesic/lessons.html">4.1.3. Lessons by Emina Mešić</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="lessons.html">4.1.4. Lessons by Lamija Fatić</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="v-model.html">4.1.4.1. V-Model in Embedded Engineering</a></li>
<li class="toctree-l4"><a class="reference internal" href="STM32F411MCU.html">4.1.4.2. SMT32F411 Overview</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">4.1.4.3. GPIO for STM32F411 MCU</a></li>
<li class="toctree-l4"><a class="reference internal" href="Clock.html">4.1.4.4. STM32 Clock Initialization</a></li>
<li class="toctree-l4"><a class="reference internal" href="USART.html">4.1.4.5. Universal Synchronous Asynchronous Receiver Transmitter (USART)</a></li>
<li class="toctree-l4"><a class="reference internal" href="timer.html">4.1.4.6. STM32F411 Timer</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../muhibija-kavazovic/lessons.html">4.1.5. Lessons by Muhibija Kavazović</a></li>
<li class="toctree-l3"><a class="reference internal" href="../semin-murtic/lessons.html">4.1.6. Lessons by Semin Murtić</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tarik-sinanovic/lessons.html">4.1.7. Lessons by Tarik Sinanović</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../requirements/requirements.html">5. Requirements</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../faqs/faqs.html">6. Frequently Asked Questions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../glossary/glossary.html">7. Glossary</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../resources/resources.html">8. Resources</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../../index.html">Maasu Internship 4</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../../lessons.html"><span class="section-number">4. </span>Lessons</a></li>
          <li class="breadcrumb-item"><a href="../lessons.html"><span class="section-number">4.1. </span>Lessons written by each intern</a></li>
          <li class="breadcrumb-item"><a href="lessons.html"><span class="section-number">4.1.4. </span>Lessons by Lamija Fatić</a></li>
      <li class="breadcrumb-item active"><span class="section-number">4.1.4.3. </span>GPIO for STM32F411 MCU</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../../../_sources/userdoc/lessons/interns/lamija-fatic/GPIO.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="gpio-for-stm32f411-mcu">
<h1><span class="section-number">4.1.4.3. </span>GPIO for STM32F411 MCU<a class="headerlink" href="#gpio-for-stm32f411-mcu" title="Link to this heading"></a></h1>
<section id="introduction">
<h2><span class="section-number">4.1.4.3.1. </span>Introduction<a class="headerlink" href="#introduction" title="Link to this heading"></a></h2>
<p>General-Purpose Input/Output (GPIO) pins are critical in microcontroller applications for interacting with peripherals and external devices. GPIO pins in STM32F411 can be configured for various functions: input, output, alternate function, and analog.
GPIO pins in STM32F411 are versatile interfaces that can function as digital inputs or outputs and support alternate functions and analog configurations. Correctly configuring these pins is critical for interfacing with other hardware components or systems.</p>
</section>
<section id="configurations">
<h2><span class="section-number">4.1.4.3.2. </span>Configurations<a class="headerlink" href="#configurations" title="Link to this heading"></a></h2>
<p><strong>Pin Modes:</strong></p>
<ul class="simple">
<li><p><strong>Input Mode:</strong> Used to read digital signals from external devices like buttons or sensors.</p></li>
<li><p><strong>Output Mode:</strong> Drives GPIO pins high (3.3V) or low (0V) to control actuators such as LEDs or motors.</p></li>
<li><p><strong>Alternate Function Mode:</strong> Connects GPIO pins to on-chip peripherals like UART, SPI, or I2C.</p></li>
<li><p><strong>Analog Mode:</strong> Disables digital logic and is used for ADCs or DACs.</p></li>
</ul>
<p><strong>Output Type:</strong></p>
<ul class="simple">
<li><p><strong>Push-Pull:</strong> The default mode for output, where the pin actively drives both high and low signals.</p></li>
<li><p><strong>Open-Drain:</strong> Suitable for wired-AND connections, requiring an external pull-up resistor.</p></li>
</ul>
<p><strong>Speed:</strong></p>
<ul class="simple">
<li><p>Configurable speeds (Low, Medium, High, Very High) define the slew rate of output signals, affecting how fast the pin can switch.</p></li>
</ul>
<p><strong>Pull-Up/Pull-Down Resistors:</strong></p>
<ul class="simple">
<li><p>Built-in resistors used to stabilize the pin state when configured as input, preventing floating signals.</p></li>
</ul>
</section>
<section id="registers-for-gpio-control">
<h2><span class="section-number">4.1.4.3.3. </span>Registers for GPIO Control<a class="headerlink" href="#registers-for-gpio-control" title="Link to this heading"></a></h2>
<p>RCC_AHB1ENR Register
The RCC_AHB1ENR register controls the clock enabling for peripherals connected to the AHB1 bus, including GPIO ports. By enabling the clock for a specific GPIO port, you activate its functionality and gain access to its pins.
- Size: 32 bits, with each bit corresponding to a clock enable for a particular peripheral.
- Usage: To use a specific GPIO port, set the corresponding bit to 1 in the RCC_AHB1ENR register, enabling its clock and functionality.</p>
<p>GPIOx_MODER (Mode Register)
The GPIOx_MODER register configures the mode of each pin in the port. It consists of 32 bits, with two bits allocated for each pin.
- Bit Configuration:</p>
<blockquote>
<div><ul class="simple">
<li><p>00: Input mode</p></li>
<li><p>01: Output mode</p></li>
<li><p>10: Alternate function mode (used for connecting with peripherals like USART, SPI, etc.)</p></li>
<li><p>11: Analog mode (used for ADC, DAC, or to save power)</p></li>
</ul>
</div></blockquote>
<p>This register allows precise control over the behavior of each GPIO pin, depending on the required functionality.</p>
<p>GPIOx_OTYPER (Output Type Register)
The GPIOx_OTYPER register sets the output type for each pin in the port. It is a 32-bit register, where each pin is assigned one bit.
- Bit Configuration:</p>
<blockquote>
<div><ul class="simple">
<li><p>0: Push-pull output – used for standard output applications.</p></li>
<li><p>1: Open-drain output – used when the output can be connected to multiple devices or for buses like I2C.</p></li>
</ul>
</div></blockquote>
<p>This register is essential for configuring how each pin drives signals, especially in applications requiring shared connections or specific output characteristics.</p>
<p>GPIOx_OSPEEDR (Output Speed Register)
The GPIOx_OSPEEDR register configures the signal speed for each pin. It is a 32-bit register, where each pin is represented by two bits.
- Bit Configuration:</p>
<blockquote>
<div><ul class="simple">
<li><p>00: Low speed</p></li>
<li><p>01: Medium speed</p></li>
<li><p>10: High speed</p></li>
<li><p>11: Very high speed</p></li>
</ul>
</div></blockquote>
<p>This register allows you to adjust the speed of signal transitions based on the requirements of your application, ensuring optimal performance and minimal power consumption when needed.</p>
<p>GPIOx_PUPDR (Pull-up/Pull-down Register)
The GPIOx_PUPDR register configures the internal pull-up or pull-down resistors on each pin. It is a 32-bit register, with each pin having two bits assigned.
- Bit Configuration:</p>
<blockquote>
<div><ul class="simple">
<li><p>00: No pull-up or pull-down resistor</p></li>
<li><p>01: Activates the pull-up resistor</p></li>
<li><p>10: Activates the pull-down resistor</p></li>
</ul>
</div></blockquote>
<p>This register is used to manage the default logic state of GPIO pins to prevent floating states when the pin is configured as input.</p>
<p>GPIOx_ODR (Output Data Register)
The GPIOx_ODR register is used to set the output values (0 or 1) on GPIO pins configured as outputs. It is a 32-bit register, where each pin is assigned one bit. Writing 1 to a bit drives the corresponding pin high (logic level 1), and writing 0 drives it low (logic level 0).</p>
<blockquote>
<div><p>When you write to the ODR register, the microcontroller outputs the specified logic level on the corresponding pin. This register is commonly used for tasks like turning LEDs on or off, controlling digital signals for peripherals, and managing pin states in embedded applications. Direct control through the ODR is straightforward but should be handled carefully in real-time applications to ensure data consistency.</p>
</div></blockquote>
<p>GPIOx_BSRR (Bit Set/Reset Register)
The GPIOx_BSRR register is used to set or reset specific pins on a GPIO port atomically, without affecting the rest of the pins or needing to modify the entire ODR value. This register provides efficient and race-condition-free pin control.
- Size: 32 bits. The first 16 bits (BSy) are used to set pins, and the next 16 bits (BRy) are used to reset pins.
- Functionality:</p>
<blockquote>
<div><ul class="simple">
<li><p>BSy (Bit Set y): Writing 1 to this bit sets pin y to a high value (logic level 1).</p></li>
<li><p>BRy (Bit Reset y): Writing 1 to this bit resets pin y to a low value (logic level 0).</p></li>
</ul>
</div></blockquote>
<ul class="simple">
<li><p>Set Operation: Writing 1 to any bit in the lower 16 bits of BSRR sets the corresponding pin high. For example, writing 0x00000004 sets pin 2 high.</p></li>
<li><p>Reset Operation: Writing 1 to any bit in the upper 16 bits resets the corresponding pin. For example, writing 0x00040000 resets pin 2.</p></li>
</ul>
<p>This atomic operation ensures consistent and safe updates in concurrent or real-time systems, making BSRR ideal for applications where precise timing and pin control are required.</p>
<p>Differences Between ODR and BSRR
- ODR: Directly sets or clears all pin states. It is simpler but not atomic, which may cause issues in multi-threaded environments.
- BSRR: Designed for atomic operations. It’s more efficient in scenarios where pin state changes must be executed without interruption.
Practical Applications Using Registers
————————————–</p>
<ol class="arabic simple">
<li><p><strong>Controlling an LED Using ODR</strong></p></li>
<li><p><strong>Using BSRR for Safe Pin Control</strong></p></li>
</ol>
</section>
<section id="advanced-gpio-features">
<h2><span class="section-number">4.1.4.3.4. </span>Advanced GPIO Features<a class="headerlink" href="#advanced-gpio-features" title="Link to this heading"></a></h2>
<ol class="arabic simple">
<li><p><strong>Alternate Function Configuration</strong></p></li>
<li><p><strong>Speed and Drive Strength</strong></p></li>
</ol>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="STM32F411MCU.html" class="btn btn-neutral float-left" title="4.1.4.2. SMT32F411 Overview" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="Clock.html" class="btn btn-neutral float-right" title="4.1.4.4. STM32 Clock Initialization" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2024, Maasu BH d.o.o..</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>